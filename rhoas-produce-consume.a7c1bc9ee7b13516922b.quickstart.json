{"apiVersion":"console.openshift.io/v1","kind":"QuickStarts","metadata":{"name":"Produce and consume in Rhoas Cli","annotations":{"draft":true,"order":6}},"spec":{"version":0.1,"type":{"text":"Quick Start","color":"green"},"displayName":"Getting started with producing and conuming messages in Rhoas Cli for Red Hat OpenShift Streams for Apache Kafka","durationMinutes":20,"icon":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzOCIgaGVpZ2h0PSIzOCIgdmlld0JveD0iMCAwIDM4IDM4Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZmO30uYntmaWxsOiNlMDA7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0yOCwxSDEwYTksOSwwLDAsMC05LDlWMjhhOSw5LDAsMCwwLDksOUgyOGE5LDksMCwwLDAsOS05VjEwYTksOSwwLDAsMC05LTlaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yMiwyNS42MjVIMTNhLjYyNS42MjUsMCwwLDEsMC0xLjI1aDlhMi4zNzUsMi4zNzUsMCwwLDAsMC00Ljc1SDE1YTMuNjI1LDMuNjI1LDAsMCwxLDAtNy4yNUgyNWEuNjI1LjYyNSwwLDAsMSwwLDEuMjVIMTVhMi4zNzUsMi4zNzUsMCwwLDAsMCw0Ljc1aDdhMy42MjUsMy42MjUsMCwwLDEsMCw3LjI1WiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMjUsMTYuNjI1QTMuNjI1LDMuNjI1LDAsMSwxLDI4LjYyNSwxMywzLjYyODg2LDMuNjI4ODYsMCwwLDEsMjUsMTYuNjI1Wm0wLTZBMi4zNzUsMi4zNzUsMCwxLDAsMjcuMzc1LDEzLDIuMzc3NywyLjM3NzcsMCwwLDAsMjUsMTAuNjI1WiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMTMsMjguNjI1QTMuNjI1LDMuNjI1LDAsMSwxLDE2LjYyNSwyNSwzLjYyODg2LDMuNjI4ODYsMCwwLDEsMTMsMjguNjI1Wm0wLTZBMi4zNzUsMi4zNzUsMCwxLDAsMTUuMzc1LDI1LDIuMzc3NywyLjM3NzcsMCwwLDAsMTMsMjIuNjI1WiIvPjwvc3ZnPg==","description":"<div id=\"description\" class=\"exampleblock\">\n<div class=\"content\">\n<div class=\"paragraph\">\n<p>Learn how to produce and consume message in Red Hat OpenShift Application Services.</p>\n</div>\n</div>\n</div>","prerequisites":["A Red Hat identity","You've created a Kafka instance and the instance is in `Ready` state. See the _Getting started with OpenShift Streams for Apache Kafka_ quick start."],"introduction":"<div id=\"introduction\" class=\"exampleblock\">\n<div class=\"content\">\n<div class=\"paragraph\">\n<p>Welcome to the quick start for producing and consuming messages in the Rhoas Cli.</p>\n</div>\n<div class=\"paragraph\">\n<p>In this quick start, you will learn how to produce messages to a kafka instance and consume them in the Rhoas Cli.</p>\n</div>\n</div>\n</div>","tasks":["<div class=\"sect1\">\n<h2 id=\"proc-configure-kafka-instance_getting-started-produce-consume\">Configuring the OpenShift Streams for Apache Kafka instance</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph _abstract\">\n<p>After you create a OpenShift Streams for Apache Kafka instance, configure by performing the following tasks:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Create <strong>Kafka topics</strong> to store messages sent by you and make them available to consumers.</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>For this example, you create one Kafka topic, named <strong>test-topic</strong> which will be used for all commands in the following examples.</p>\n</div>\n<div class=\"ulist\"><div class=\"title\">Prerequisites</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-44\" class=\"pf-c-title pf-m-md task-pflist-title\">Prerequisites</h6><p class=\"task-pflist-subtitle\">In addtion to the prerequisites for this Quick Start, this step requires:</p><ul class=\"pf-c-list task-pflist-list task-pflist-list--prereq\"><li class=\"task-pflist-list__item--prereq task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>You&#8217;ve created a OpenShift Streams for Apache Kafka instance and the instance is in the <strong>Ready</strong> state.</p> </span></li></ul></div></div>\n<div class=\"olist\"><div class=\"title\">Procedure</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-45\" class=\"pf-c-title pf-m-md task-pflist-title\">Procedure</h6><ol type=\"1\" class=\"pf-c-list task-pflist-list task-pflist-list--proc\"><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>Create a Kafka topic for your kafka instance:</p> <div class=\"olist loweralpha\">\n<ol class=\"loweralpha\" type=\"a\">\n<li>\n<p>In the OpenShift Application Services web console, select <strong>Streams for Apache Kafka</strong> &gt; <strong>Kafka Instances</strong>.</p>\n</li>\n<li>\n<p>Click the name of the OpenShift Streams for Apache Kafka instance that you created.</p>\n</li>\n<li>\n<p>Select the <strong>Topics</strong> tab, and then click <strong>Create topic</strong>.</p>\n</li>\n<li>\n<p>Type a unique name for your topic. For example, type <strong>test-topic</strong> for <strong>Topic Name</strong>.</p>\n</li>\n<li>\n<p>Accept the default settings for message retention, and replicas. But set the partition count to <strong>2</strong>.</p>\n</li>\n</ol>\n</div></span></li></ol></div></div>\n<div class=\"ulist\">\n<div class=\"title\">Verification</div>\n<ul>\n<li>\n<p>Did you create a topic for the kafka instance?</p>\n</li>\n</ul>\n</div>\n</div>\n</div>","<div class=\"sect1\">\n<h2 id=\"proc-produce-message_getting-started-produce-consume\">Producing a message to a OpenShift Streams for Apache Kafka instance</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph _abstract\">\n<p>You can produce your own message from the Cli instead of using an application. This is very useful for testing and debuging your OpenShift Streams for Apache Kafka instance.</p>\n</div>\n<div class=\"olist\"><div class=\"title\">Prerequisites</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-46\" class=\"pf-c-title pf-m-md task-pflist-title\">Prerequisites</h6><p class=\"task-pflist-subtitle\">In addtion to the prerequisites for this Quick Start, this step requires:</p><ol type=\"1\" class=\"pf-c-list task-pflist-list task-pflist-list--prereq\"><li class=\"task-pflist-list__item--prereq task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>You&#8217;re logged in to the  OpenShift Application Services web console at <a href=\"https://console.redhat.com/application-services/connectors/\" class=\"bare\" target=\"_blank\" rel=\"noopener\">https://console.redhat.com/application-services/connectors/</a>.</p> </span></li><li class=\"task-pflist-list__item--prereq task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>You configured a OpenShift Streams for Apache Kafka instance for connectors as described <em>Configuring the OpenShift Streams for Apache Kafka instance for use with Red Hat OpenShift Connectors</em>.</p> </span></li><li class=\"task-pflist-list__item--prereq task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>You are logged into the Rhoas Cli with your OpenShift Application Services account using <code>rhoas login</code>.</p> </span></li></ol></div></div>\n<div class=\"olist\"><div class=\"title\">Procedure</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-47\" class=\"pf-c-title pf-m-md task-pflist-title\">Procedure</h6><ol type=\"1\" class=\"pf-c-list task-pflist-list task-pflist-list--proc\"><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>To produce a message to your kafka topic use the following command <code>rhoas kafka topic produce --name=test-topic</code> and enter a value when prompted, for example enter <code>Hello world!</code>.</p> </span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>Read the message</p> <div class=\"olist loweralpha\">\n<ol class=\"loweralpha\" type=\"a\">\n<li>\n<p>In the OpenShift Application Services web console, select <strong>Streams for Apache Kafka</strong> &gt; <strong>Kafka Instances</strong>.</p>\n</li>\n<li>\n<p>Click the name of the OpenShift Streams for Apache Kafka instance that you created.</p>\n</li>\n<li>\n<p>Select the <strong>Topics</strong> tab, and then click the name of your topic.</p>\n</li>\n<li>\n<p>Select the <strong>Messages</strong> tab, and see the message you create from the Rhoas Cli</p>\n</li>\n</ol>\n</div></span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>By default any message you create is sent to the <strong>0</strong> partition. To create a message for the <strong>1</strong> partition run the following and enter another value <code>rhoas kafka topic produce --name=test-topic --partition=0</code>.</p> </span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>Go back to the messages tab in the topic and see if your message is now on a different partition.</p> </span></li></ol></div></div>\n<div class=\"ulist\">\n<div class=\"title\">Verification</div>\n<ul>\n<li>\n<p>Does running the commands produce messages?</p>\n<div class=\"olist loweralpha\">\n<ol class=\"loweralpha\" type=\"a\">\n<li>\n<p>In the OpenShift Application Services web console, select <strong>Streams for Apache Kafka</strong> &gt; <strong>Kafka Instances</strong>.</p>\n</li>\n<li>\n<p>Click the Kafka instance that you created.</p>\n</li>\n<li>\n<p>Click the <strong>Topics</strong> tab and then click the topic that you specified for your OpenShift Streams for Apache Kafka instance.</p>\n</li>\n<li>\n<p>Click the <strong>Messages</strong> tab to see a <code>Hello World!</code> message.</p>\n</li>\n</ol>\n</div>\n</li>\n</ul>\n</div>\n</div>\n</div>","<div class=\"sect1\">\n<h2 id=\"proc-consume-message_getting-started-produce-consume\">Consuming messages from a OpenShift Streams for Apache Kafka instance</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph _abstract\">\n<p>You can consume your own message from the Cli instead of using an application. This is very useful for testing and debuging your OpenShift Streams for Apache Kafka instance.</p>\n</div>\n<div class=\"olist\"><div class=\"title\">Prerequisites</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-48\" class=\"pf-c-title pf-m-md task-pflist-title\">Prerequisites</h6><p class=\"task-pflist-subtitle\">In addtion to the prerequisites for this Quick Start, this step requires:</p><ol type=\"1\" class=\"pf-c-list task-pflist-list task-pflist-list--prereq\"><li class=\"task-pflist-list__item--prereq task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>You&#8217;re logged in to the  OpenShift Application Services web console at <a href=\"https://console.redhat.com/application-services/connectors/\" class=\"bare\" target=\"_blank\" rel=\"noopener\">https://console.redhat.com/application-services/connectors/</a>.</p> </span></li><li class=\"task-pflist-list__item--prereq task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>You configured a OpenShift Streams for Apache Kafka instance for connectors as described <em>Configuring the OpenShift Streams for Apache Kafka instance for use with Red Hat OpenShift Connectors</em>.</p> </span></li><li class=\"task-pflist-list__item--prereq task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>You are logged into the Rhoas Cli with your OpenShift Application Services account using <code>rhoas login</code>.</p> </span></li></ol></div></div>\n<div class=\"olist\"><div class=\"title\">Procedure</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-49\" class=\"pf-c-title pf-m-md task-pflist-title\">Procedure</h6><ol type=\"1\" class=\"pf-c-list task-pflist-list task-pflist-list--proc\"><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>To consume a message to your kafka topic use the following command <code>rhoas kafka topic consume --name=test-topic</code>. You will now see all messages you produced to the topic.</p> </span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>Just like produce set the <code>--partition</code> flag to consume from a specific partition. Run <code>rhoas kafka topic consume --name=test-topic --partition=1</code>. You will now see all messages you produced to the topic on the <strong>1</strong> partition.</p> </span></li></ol></div></div>\n<div class=\"ulist\">\n<div class=\"title\">Verification</div>\n<ul>\n<li>\n<p>Does running the commands output messages on the correct partitions?</p>\n</li>\n</ul>\n</div>\n<div id=\"conclusion\" class=\"exampleblock\">\n<div class=\"content\">\n<div class=\"paragraph\">\n<p>Congratulations! You successfully completed producing and conuming messages in Rhoas Cli for Red Hat OpenShift Streams for Apache Kafka quick start.</p>\n</div>\n</div>\n</div>\n</div>\n</div>"],"conclusion":"<div id=\"conclusion\" class=\"exampleblock\">\n<div class=\"content\">\n<div class=\"paragraph\">\n<p>Congratulations! You successfully completed producing and conuming messages in Rhoas Cli for Red Hat OpenShift Streams for Apache Kafka quick start.</p>\n</div>\n</div>\n</div>"}}