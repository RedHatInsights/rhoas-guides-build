{"apiVersion":"console.openshift.io/v1","kind":"QuickStarts","metadata":{"name":"kafka-bin-scripts","annotations":{"order":4}},"spec":{"version":0.1,"type":{"text":"Quick start","color":"green"},"displayName":"Configuring and connecting Kafka scripts with Red Hat OpenShift Streams for Apache Kafka","durationMinutes":10,"icon":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjIuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzNyAzNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzcgMzc7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRUUwMDAwO30KCS5zdDF7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBkPSJNMjcuNSwwLjVoLTE4Yy00Ljk3LDAtOSw0LjAzLTksOXYxOGMwLDQuOTcsNC4wMyw5LDksOWgxOGM0Ljk3LDAsOS00LjAzLDktOXYtMThDMzYuNSw0LjUzLDMyLjQ3LDAuNSwyNy41LDAuNUwyNy41LDAuNXoiCgkJLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNi41LDE4LjEyYy0xLjcyLDAtMy4xMi0xLjQtMy4xMi0zLjEyczEuNC0zLjEyLDMuMTItMy4xMnMzLjEyLDEuNCwzLjEyLDMuMTJTMTguMjIsMTguMTIsMTYuNSwxOC4xMnoKCQkgTTE2LjUsMTMuMTJjLTEuMDMsMC0xLjg4LDAuODQtMS44OCwxLjg4czAuODQsMS44OCwxLjg4LDEuODhzMS44OC0wLjg0LDEuODgtMS44OFMxNy41MywxMy4xMiwxNi41LDEzLjEyeiIvPgoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTEyLjk0LDExLjA2bC0yLTJjLTAuMDgtMC4wOC0wLjE4LTAuMTMtMC4yOS0wLjE1Yy0wLjAzLTAuMDEtMC4wNS0wLjAxLTAuMDctMC4wMQoJCWMtMC4xMS0wLjAxLTAuMjItMC4wMS0wLjMyLDAuMDNjMCwwLDAsMCwwLDBjLTAuMDcsMC4wMy0wLjEzLDAuMDctMC4xOCwwLjEyYy0wLjAxLDAuMDEtMC4wMSwwLjAxLTAuMDIsMC4wMWwtMiwyCgkJYy0wLjI0LDAuMjQtMC4yNCwwLjY0LDAsMC44OGMwLjEyLDAuMTIsMC4yOCwwLjE4LDAuNDQsMC4xOHMwLjMyLTAuMDYsMC40NC0wLjE4bDAuOTMtMC45M1YyMi41YzAsMC4zNSwwLjI4LDAuNjIsMC42MiwwLjYyCgkJczAuNjItMC4yOCwwLjYyLTAuNjJWMTEuMDFsMC45MywwLjkzYzAuMjQsMC4yNCwwLjY0LDAuMjQsMC44OCwwQzEzLjE5LDExLjcsMTMuMTksMTEuMywxMi45NCwxMS4wNnoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMi41LDE4LjEyYy0wLjM0LDAtMC42Mi0wLjI4LTAuNjItMC42MnYtNWMwLTAuMzUsMC4yOC0wLjYyLDAuNjItMC42MnMwLjYyLDAuMjgsMC42MiwwLjYydjUKCQlDMjMuMTIsMTcuODUsMjIuODQsMTguMTIsMjIuNSwxOC4xMnoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMC41LDI1LjEyYy0xLjcyLDAtMy4xMi0xLjQtMy4xMi0zLjEyczEuNC0zLjEyLDMuMTItMy4xMnMzLjEyLDEuNCwzLjEyLDMuMTJTMjIuMjIsMjUuMTIsMjAuNSwyNS4xMnoKCQkgTTIwLjUsMjAuMTJjLTEuMDMsMC0xLjg4LDAuODQtMS44OCwxLjg4czAuODQsMS44OCwxLjg4LDEuODhzMS44OC0wLjg0LDEuODgtMS44OFMyMS41MywyMC4xMiwyMC41LDIwLjEyeiIvPgoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTI4Ljk0LDI1LjA2Yy0wLjI0LTAuMjQtMC42NC0wLjI0LTAuODgsMGwtMC45MywwLjkzVjEyLjVjMC0wLjM1LTAuMjgtMC42Mi0wLjYyLTAuNjJzLTAuNjIsMC4yOC0wLjYyLDAuNjIKCQl2MTMuNDlsLTAuOTMtMC45M2MtMC4yNC0wLjI0LTAuNjQtMC4yNC0wLjg4LDBjLTAuMjQsMC4yNC0wLjI0LDAuNjQsMCwwLjg4bDIsMmMwLjA2LDAuMDYsMC4xMywwLjExLDAuMjEsMC4xNAoJCWMwLjA4LDAuMDMsMC4xNiwwLjA1LDAuMjQsMC4wNWMwLjA4LDAsMC4xNi0wLjAyLDAuMjQtMC4wNWMwLDAsMCwwLDAsMGMwLjA3LTAuMDMsMC4xMy0wLjA3LDAuMTgtMC4xMgoJCWMwLjAxLTAuMDEsMC4wMS0wLjAxLDAuMDItMC4wMWwyLTJDMjkuMTksMjUuNywyOS4xOSwyNS4zLDI4Ljk0LDI1LjA2eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE0LjUsMjUuMTJjLTAuMzQsMC0wLjYyLTAuMjgtMC42Mi0wLjYydi01YzAtMC4zNSwwLjI4LTAuNjIsMC42Mi0wLjYyczAuNjIsMC4yOCwwLjYyLDAuNjJ2NQoJCUMxNS4xMiwyNC44NSwxNC44NCwyNS4xMiwxNC41LDI1LjEyeiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTI2LjUsMTguMTJjLTAuMzQsMC0wLjYyLTAuMjgtMC42Mi0wLjYydi01YzAtMC4zNSwwLjI4LTAuNjIsMC42Mi0wLjYyczAuNjIsMC4yOCwwLjYyLDAuNjJ2NQoJCUMyNy4xMiwxNy44NSwyNi44NCwxOC4xMiwyNi41LDE4LjEyeiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEwLjUsMjUuMTJjLTAuMzQsMC0wLjYyLTAuMjgtMC42Mi0wLjYydi01YzAtMC4zNSwwLjI4LTAuNjIsMC42Mi0wLjYyczAuNjIsMC4yOCwwLjYyLDAuNjJ2NQoJCUMxMS4xMiwyNC44NSwxMC44NCwyNS4xMiwxMC41LDI1LjEyeiIvPgo8L2c+Cjwvc3ZnPgo=","description":"<div id=\"description\" class=\"exampleblock\">\n<div class=\"content\">\n<div class=\"paragraph\">\n<p>Learn how to use Kafka scripts to interact with a Kafka instance in Red Hat OpenShift Streams for Apache Kafka.</p>\n</div>\n</div>\n</div>","prerequisites":["A running Kafka instance (see the Getting Started quick start)","The latest supported binary version of the Apache Kafka distribution","A command-line terminal application","JDK 11 or later (the latest LTS version of OpenJDK is recommended)"],"introduction":"<div id=\"introduction\" class=\"exampleblock\">\n<div class=\"content\">\n<div class=\"paragraph\">\n<p>Welcome to the quick start for Red Hat OpenShift Streams for Apache Kafka with Kafka scripts. In this quick start, you&#8217;ll learn how to use the Kafka scripts to produce and consume messages for your Kafka instances in OpenShift Streams for Apache Kafka.</p>\n</div>\n</div>\n</div>","tasks":["<div class=\"sect1\">\n<h2 id=\"proc-configuring-kafka-bin-scripts_using-kafka-bin-scripts\">Configuring the Kafka scripts to connect to a Kafka instance</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph _abstract\">\n<p>To enable the Kafka scripts to access a Kafka instance, you must configure the connection using the generated credentials for your OpenShift Streams for Apache Kafka service account. For the Kafka scripts, you will create a configuration file that defines these values.</p>\n</div>\n<div class=\"olist\"><div class=\"title\">Procedure</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-20\" class=\"pf-c-title pf-m-md task-pflist-title\">Procedure</h6><ol type=\"1\" class=\"pf-c-list task-pflist-list task-pflist-list--proc\"><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>In your Kafka distribution, navigate to the <code>config/</code> directory.</p> </span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>Create a file called <code>app-services.properties</code>.</p> </span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>In the <code>app-services.properties</code> file, set the SASL connection mechanism and the Kafka instance client credentials. Replace the values with your own credential information.</p> <div class=\"openblock\">\n<div class=\"content\">\n<div class=\"paragraph\">\n<p>The <code>&lt;client_id&gt;</code> and <code>&lt;client_secret&gt;</code> are the generated credentials for your service account. You copied this information previously for the Kafka instance in OpenShift Streams for Apache Kafka by selecting the options menu (three vertical dots), clicking <strong>Connection</strong>, and creating the service account.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Setting server and credential values</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code>sasl.mechanism=PLAIN\nsecurity.protocol=SASL_SSL\n\nsasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required \\\n  username=\"<em>&lt;client_id&gt;</em>\" \\\n  password=\"<em>&lt;client_secret&gt;</em>\" ;</code></pre>\n</div>\n</div>\n<div data-reactroot=\"\"><div class=\"pf-c-alert pf-m-inline pf-m-info description-important\" aria-label=\"Info Alert\" data-ouia-component-type=\"PF4/Alert\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Alert-info-19\"><div class=\"pf-c-alert__icon\"><svg style=\"vertical-align:-0.125em\" fill=\"currentColor\" height=\"1em\" width=\"1em\" viewBox=\"0 0 512 512\" aria-hidden=\"true\" role=\"img\"><path d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\"></path></svg></div><h4 class=\"pf-c-alert__title\"><span class=\"pf-u-screen-reader\">Info alert:</span>NOTE</h4><div class=\"pf-c-alert__description\"><span>OpenShift Streams for Apache Kafka also supports the SASL/OAUTHBEARER mechanism for authentication, which is the recommended authentication mechanism to use. However, the Kafka scripts do not yet fully support OAUTHBEARER, so this example uses SASL/PLAIN.</span></div></div></div>\n</div>\n</div></span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>Save the file. You&#8217;ll use this file in the next task to connect to your Kafka instance and produce messages.</p> </span></li></ol></div></div>\n</div>\n</div>","<div class=\"sect1\">\n<h2 id=\"proc-producing-messages-kafka-bin-scripts_using-kafka-bin-scripts\">Producing messages using Kafka scripts</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph _abstract\">\n<p>You can use the <code>kafka-console-producer</code> script to produce messages to Kafka topics.</p>\n</div>\n<div class=\"ulist\"><div class=\"title\">Prerequisites</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-21\" class=\"pf-c-title pf-m-md task-pflist-title\">Prerequisites</h6><p class=\"task-pflist-subtitle\">In addtion to the prerequisites for this Quick Start, this step requires:</p><ul class=\"pf-c-list task-pflist-list task-pflist-list--prereq\"><li class=\"task-pflist-list__item--prereq task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>You have a running Kafka instance in OpenShift Streams for Apache Kafka.</p> </span></li><li class=\"task-pflist-list__item--prereq task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>You&#8217;ve created the <code>app-services.properties</code> file to store your service account credentials.</p> </span></li></ul></div></div>\n<div class=\"olist\"><div class=\"title\">Procedure</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-22\" class=\"pf-c-title pf-m-md task-pflist-title\">Procedure</h6><ol type=\"1\" class=\"pf-c-list task-pflist-list task-pflist-list--proc\"><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>On the command line, from the <code>bin/</code> directory, enter the following command to create a Kafka topic.</p> <div class=\"openblock\">\n<div class=\"content\">\n<div class=\"paragraph\">\n<p>The <code>&lt;bootstrap_server&gt;</code> is the bootstrap server endpoint for your Kafka instance. You copied this information previously for the Kafka instance in OpenShift Streams for Apache Kafka by selecting the options menu (three vertical dots) and clicking <strong>Connection</strong>.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Using the <code>kafka-topics</code> script to create a Kafka topic</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code>$ ./kafka-topics.sh --create --topic my-other-topic --partitions 1 --replication-factor 3 --bootstrap-server <em>&lt;bootstrap_server&gt;</em> --command-config ../config/app-services.properties\nCreated topic my-other-topic.</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>The preceding example uses the <code>kafka-topics</code> script to create the <code>my-other-topic</code> Kafka topic with the default settings.</p>\n</div></span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>Enter the following command to start the <code>kafka-console-producer</code> script.</p> <div class=\"openblock\">\n<div class=\"content\">\n<div class=\"listingblock\">\n<div class=\"title\">Starting the <code>kafka-console-producer</code> script</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code>$ ./kafka-console-producer.sh --topic my-other-topic --bootstrap-server \"<em>&lt;bootstrap_server&gt;</em>\" --producer.config ../config/app-services.properties</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>The preceding example uses the SASL/PLAIN authentication mechanism with the credentials that you saved in the <code>app-services.properties</code> file. This example produces messages to the <code>my-other-topic</code> example topic that you created.</p>\n</div></span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>With the <code>kafka-console-producer</code> script running, enter messages that you want to produce to the Kafka topic.</p> <div class=\"listingblock\">\n<div class=\"title\">Example messages to produce to the Kafka topic</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code>&gt;First message\n&gt;Second message\n&gt;Third message</code></pre>\n</div>\n</div></span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>Keep the producer running to use later when you create a consumer.</p> </span></li></ol></div></div>\n<div class=\"ulist\">\n<div class=\"title\">Verification</div>\n<ul>\n<li>\n<p>Is the <code>kafka-console-producer</code> script still running without any errors in the terminal?</p>\n</li>\n</ul>\n</div>\n</div>\n</div>","<div class=\"sect1\">\n<h2 id=\"proc-consuming-messages-kafka-bin-scripts_using-kafka-bin-scripts\">Consuming messages using Kafka scripts</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph _abstract\">\n<p>You can use the <code>kafka-console-consumer</code> script to consume messages from Kafka topics. This example consumes the messages that you sent previously with the producer that you created with the <code>kafka-console-producer</code> script.</p>\n</div>\n<div class=\"ulist\"><div class=\"title\">Prerequisites</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-23\" class=\"pf-c-title pf-m-md task-pflist-title\">Prerequisites</h6><p class=\"task-pflist-subtitle\">In addtion to the prerequisites for this Quick Start, this step requires:</p><ul class=\"pf-c-list task-pflist-list task-pflist-list--prereq\"><li class=\"task-pflist-list__item--prereq task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>You used the <code>kafka-console-producer</code> script to produce example messages to a topic.</p> </span></li></ul></div></div>\n<div class=\"olist\"><div class=\"title\">Procedure</div><div class=\"task-pflist\"><h6 data-ouia-component-type=\"PF4/Title\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Title-24\" class=\"pf-c-title pf-m-md task-pflist-title\">Procedure</h6><ol type=\"1\" class=\"pf-c-list task-pflist-list task-pflist-list--proc\"><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>Open a second terminal window or tab, separate from the producer.</p> </span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>On the command line, enter the following command to start the <code>kafka-console-consumer</code> script.</p> <div class=\"openblock\">\n<div class=\"content\">\n<div class=\"listingblock\">\n<div class=\"title\">Starting the <code>kafka-console-consumer</code> script</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code>$ ./kafka-console-consumer.sh --topic my-other-topic --bootstrap-server \"<em>&lt;bootstrap_server&gt;</em>\" --from-beginning --consumer.config ../config/app-services.properties\nFirst message\nSecond message\nThird message</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>The preceding example uses the SASL/PLAIN authentication mechanism with the credentials that you saved in the <code>app-services.properties</code> file. This example consumes and displays the messages from the <code>my-other-topic</code> example topic.</p>\n</div></span></li><li class=\"task-pflist-list__item--proc task-pflist-list__item\"><span class=\"task-pflist-list__item__content\"><p>If your producer is still running in a separate terminal, continue entering messages in the producer terminal and observe the messages being consumed in the consumer terminal.</p> </span></li></ol></div></div>\n<div data-reactroot=\"\"><div class=\"pf-c-alert pf-m-inline pf-m-info description-important\" aria-label=\"Info Alert\" data-ouia-component-type=\"PF4/Alert\" data-ouia-safe=\"true\" data-ouia-component-id=\"OUIA-Generated-Alert-info-20\"><div class=\"pf-c-alert__icon\"><svg style=\"vertical-align:-0.125em\" fill=\"currentColor\" height=\"1em\" width=\"1em\" viewBox=\"0 0 512 512\" aria-hidden=\"true\" role=\"img\"><path d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\"></path></svg></div><h4 class=\"pf-c-alert__title\"><span class=\"pf-u-screen-reader\">Info alert:</span>NOTE</h4><div class=\"pf-c-alert__description\"><span>You can also use the Red Hat OpenShift Streams for Apache Kafka web console to browse messages in the Kafka topic. For more information, see <a href=\"https://access.redhat.com/documentation/en-us/red_hat_openshift_streams_for_apache_kafka/1/guide/c3249a7c-b8c0-4df4-9cec-93f11877b054\" target=\"_blank\" rel=\"noopener\"><em>Browsing messages in the Red Hat OpenShift Streams for Apache Kafka web console</em></a>.</span></div></div></div>\n<div class=\"ulist\">\n<div class=\"title\">Verification</div>\n<ul>\n<li>\n<p>Is the <code>kafka-console-consumer</code> script running without any errors in the terminal?</p>\n</li>\n<li>\n<p>Did the <code>kafka-console-consumer</code> script display the messages from the <code>my-other-topic</code> example topic?</p>\n</li>\n</ul>\n</div>\n<div id=\"conclusion\" class=\"exampleblock\">\n<div class=\"content\">\n<div class=\"paragraph\">\n<p>Congratulations! You successfully completed the OpenShift Streams for Apache Kafka Kafka scripts quick start, and are now ready to produce and consume messages in the service.</p>\n</div>\n</div>\n</div>\n</div>\n</div>"],"conclusion":"<div id=\"conclusion\" class=\"exampleblock\">\n<div class=\"content\">\n<div class=\"paragraph\">\n<p>Congratulations! You successfully completed the OpenShift Streams for Apache Kafka Kafka scripts quick start, and are now ready to produce and consume messages in the service.</p>\n</div>\n</div>\n</div>","nextQuickStart":["kafkacat","quarkus-kafka"]}}